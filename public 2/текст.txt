–õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –¥–æ–¥–∞—Ç–∫—É disCard PWA

  üöÄ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—É

  1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫ (QRCode, JsBarcode, jsQR,
  Quagga)
  2. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä–Ω–∞—Ü—ñ–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó (i18n)
  3. –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É (app.js)
  4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Service Worker
  5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

  üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (Offline-First)

  checkAuthentication() {
    1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage
    2. –û–î–†–ê–ó–£ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–µ—à–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö
    3. –ü–æ–∫–∞–∑ –¥–æ–¥–∞—Ç–∫—É –∑ –∫–µ—à–æ–≤–∞–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
    4. –£ —Ñ–æ–Ω—ñ - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
    5. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–≤—ñ–∂–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑ —Å–µ—Ä–≤–µ—Ä–∞
  }

  üìä –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ - –¢–£–¢ –ü–†–û–ë–õ–ï–ú–ê!

  –°–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î:
  {
    "user": {...},
    "cards": [–∫–∞—Ä—Ç–∫–∞1, –∫–∞—Ä—Ç–∫–∞2]  // 2 –∫–∞—Ä—Ç–∫–∏
  }

  –ê–ª–µ –∫–æ–¥ —à—É–∫–∞—î –∫–∞—Ä—Ç–∫–∏ –≤ —Ä—ñ–∑–Ω–∏—Ö –º—ñ—Å—Ü—è—Ö:
  // –ü–†–û–ë–õ–ï–ú–ê: –∫–∞—Ä—Ç–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ response.cards –ê–ë–û 
  response.user.cards
  const serverCards = response.cards ||
  response.user.cards || [];

  üé® –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫

  renderCards() {
    1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ AppState.cards
    2. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è HTML –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏
    3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è QR/—à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤
    4. –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
    5. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –∫–∞—Ä—Ç–æ–∫
  }

  üíæ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏

  - localStorage: authToken, cards, user, theme, language

  - AppState: –ì–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –¥–æ–¥–∞—Ç–∫—É
  - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è: –°–µ—Ä–≤–µ—Ä ‚Üí AppState ‚Üí localStorage ‚Üí UI

  ‚ö†Ô∏è –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:

  1. –ù–µ–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å API –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π - –∫–∞—Ä—Ç–∫–∏ –≤ —Ä—ñ–∑–Ω–∏—Ö
  –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è—Ö
  2. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫
  3. –ú–æ–Ω–æ–ª—ñ—Ç–Ω–∏–π —Ñ–∞–π–ª app.js (25,000+ —Ä—è–¥–∫—ñ–≤)
  4. –ü—Ä—è–º—ñ –º—É—Ç–∞—Ü—ñ—ó —Å—Ç–∞–Ω—É –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
  5. –°–∫–ª–∞–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫

  üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

  1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–≤–∞—Ç–∏ API - –∫–∞—Ä—Ç–∫–∏ –∑–∞–≤–∂–¥–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
  2. –î–æ–¥–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫
  3. –í–∞–ª—ñ–¥—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫
  4. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ app.js –Ω–∞ –º–æ–¥—É–ª—ñ

  –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞—Ä–∞–∑: —Å–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î –∫–∞—Ä—Ç–∫–∏, –∞–ª–µ
  –¥–æ–¥–∞—Ç–æ–∫ —ó—Ö –Ω–µ –±–∞—á–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–µ–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ
  API –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.




  –ú–∞—é –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª app.js (2569 —Ä—è–¥–∫—ñ–≤). –ó–Ω–∞–π—à–æ–≤ –±–∞–≥–∞—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–¥—É —Ç–∞
  –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è —Ä–æ–∑–±–∏—Ç—Ç—è –Ω–∞ –º–æ–¥—É–ª—ñ:

  –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è (—Ä—è–¥–∫–∏ 70-183):
  - window.testAddCard - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏
  - window.fillTestData - –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
  - window.resetButtonHandlers - —Å–∫–∏–¥–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤
  - window.testQR - —Ç–µ—Å—Ç QR –∫–æ–¥—ñ–≤

  –ú–æ–¥—É–ª—ñ –¥–ª—è –≤–∏–Ω–µ—Å–µ–Ω–Ω—è:
  - AuthManager.js - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (login, register, logout)
  - CardManager.js - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∞–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó)
  - CodeScanner.js - —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è QR/—à—Ç—Ä–∏—Ö –∫–æ–¥—ñ–≤
  - ThemeManager.js - —Ç–µ–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
  - ModalSystem.js - –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞

  –ü–æ—á–∞—Ç–∏ –∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–¥—É —á–∏ –≤—ñ–¥—Ä–∞–∑—É —Ä–æ–∑–±–∏–≤–∞—Ç–∏ –Ω–∞ –º–æ–¥—É–ª—ñ?

> –î–∞–≤–∞–π —Å–ø–æ—á–∞—Ç–∫—É –∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–¥—É

‚è∫ Read(public/js/app.js)
  ‚éø  Read 120 lines (ctrl+r to expand)

‚è∫ Read(public/js/app.js)
  ‚éø  Read 30 lines (ctrl+r to expand)

‚è∫ –¢–µ–ø–µ—Ä –±—É–¥—É –≤–∏–¥–∞–ª—è—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥. –ü–æ—á–∏–Ω–∞—é –∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö
  —Ñ—É–Ω–∫—Ü—ñ–π –∑ —Ä—è–¥–∫—ñ–≤ 70-198: